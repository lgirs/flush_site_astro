---
/**
 * HeroLogo.astro (stacked) â€” build-safe
 * Logo (smaller) on top, vector splash BELOW it, colorable via prop.
 * Files:
 *   /public/images/logo-flush-white.png
 *   /public/images/us.svg
 */
const {
  logo = "/images/logo-flush-white.png",
  splash = "/images/us.svg",           // kept for clarity; path is used in mask below
  splashColor = "var(--flush-light)",  // pass "var(--flush-red)" or "#fff" if you want
  title = "Flush",
} = Astro.props;
---
<section class="hero" aria-label={title}>
  <div class="hero__inner">
    <!-- Top: original logo (smaller) -->
    <img src={logo} alt="Flush" class="hero__logo" loading="eager" />

    <!-- Below: vector splash in configured color (via CSS var) -->
    <span
      class="hero__splashBelow"
      style={`--splash-color: ${splashColor}; --splash-url: url('${splash}');`}
      aria-hidden="true"
    ></span>
  </div>
</section>

<style>
  .hero {
    position: relative;
    display: grid;
    place-items: center;
    padding: clamp(2.5rem, 6vw, 6rem) 1rem;
    background: var(--flush-black);
    overflow: hidden;
  }
  .hero__inner {
    display: grid;
    justify-items: center;
    gap: clamp(0.75rem, 1.5vw, 1.25rem);
    max-width: 1100px;
    width: 100%;
  }

  /* Smaller brand logo on top */
  .hero__logo {
    width: min(40vw, 340px);
    height: auto;
    display: block;
    filter: drop-shadow(0 6px 14px rgba(0,0,0,.45));
  }

  /* Splash below the logo using CSS mask so we can color it */
  .hero__splashBelow {
    width: min(92vw, 920px);
    height: min(52vw, 520px);
    display: block;

    /* color comes from the inline CSS variable */
    background: var(--splash-color);

    /* mask the SVG (URL comes via inline CSS var as well) */
    -webkit-mask-image: var(--splash-url);
    mask-image: var(--splash-url);
    -webkit-mask-repeat: no-repeat;
    mask-repeat: no-repeat;
    -webkit-mask-position: center;
    mask-position: center;
    -webkit-mask-size: contain;
    mask-size: contain;

    filter: drop-shadow(0 8px 18px rgba(0,0,0,.35));
    opacity: 0.95;
  }

  @media (min-width: 900px) {
    .hero__logo { width: min(28vw, 320px); }
    .hero__splashBelow { opacity: 0.92; }
  }
</style>
