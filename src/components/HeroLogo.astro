---
/**
 * HeroLogo.astro
 * Centers the Flush logo and places a decorative vector behind it.
 * Put the vector file at: /public/images/us.svg
 */
const {
  logo = "/images/logo-flush-white.png",
  splash = "/images/us.svg",
  title = "Flush",
} = Astro.props;
---
<section class="hero" aria-label={title}>
  <div class="hero__inner">
    <!-- Decorative splash via CSS mask (colored by background) -->
    <span class="hero__splashMask" aria-hidden="true"></span>

    <!-- Brand logo -->
    <img src={logo} alt="Flush" class="hero__logo" loading="eager" />
  </div>
</section>

<style>
  .hero {
    position: relative;
    display: grid;
    place-items: center;
    padding: clamp(3rem, 8vw, 8rem) 1rem;
    background: var(--flush-black);
    overflow: hidden;
  }
  .hero__inner {
    position: relative;
    display: grid;
    place-items: center;
    isolation: isolate; /* keeps z-index layers local */
  }

  /* === Splash using CSS mask (always visible, fully colorable) === */
  .hero__splashMask{
    position: absolute;
    inset: 50% auto auto 50%;
    transform: translate(-50%, -50%) rotate(-4deg);
    width: min(90vw, 920px);
    height: min(90vw, 920px); /* square area for the mask */
    z-index: 0;
    pointer-events: none;
    user-select: none;

    /* Color the splash here */
background: var(--flush-red);

    /* Apply the SVG as a mask so the background color shows through the shape */
    -webkit-mask-image: url("/images/us.svg");
    mask-image: url("/images/us.svg");
    -webkit-mask-repeat: no-repeat;
    mask-repeat: no-repeat;
    -webkit-mask-position: center;
    mask-position: center;
    -webkit-mask-size: contain;
    mask-size: contain;

    /* Subtle shadow for separation on dark bg */
    filter: drop-shadow(0 10px 22px rgba(0,0,0,.45));
    opacity: 0.28; /* tweak visibility */
  }

  .hero__logo {
    position: relative;
    z-index: 1;
    width: min(60vw, 520px);
    height: auto;
    display: block;
    filter: drop-shadow(0 6px 14px rgba(0,0,0,.45));
  }

  @media (min-width: 900px) {
    .hero__splashMask { opacity: 0.24; }
  }
</style>
