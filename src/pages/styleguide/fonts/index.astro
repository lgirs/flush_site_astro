---
import BaseLayout from "../../../layouts/BaseLayout.astro";

const FONT_LIST = [
  "Archivo",
  "IBM Plex Sans",        // already present
  "Source Sans 3",
  "Work Sans",
  "PT Sans",
  "Inter",
  "Montserrat",
  "Frutiger",
  "Clarendon",
  "Mrs Eaves XL Serif",
  "Stencil",
  // Newly added:
  "Roboto Slab",
  "Merriweather",
  "Libre Franklin",
  "IBM Plex Serif",
  "Fira Sans",
];

const SAMPLE_PARAGRAPH = `We make loud, honest music. The words come from real life — shows, friends, late nights, and staying true to what matters.`;
const PANGRAM = `Sphinx of black quartz, judge my vow. 0123456789 — !?&%`;
---

<BaseLayout title="Font Lab (Hidden)" description="Compare Oswald with candidate body fonts">
  <meta name="robots" content="noindex, nofollow" />

  <style is:global>
  @import url('https://fonts.googleapis.com/css2?
    family=Oswald:wght@300;400;600;700&
    family=Archivo:wght@400;500;600&
    family=IBM+Plex+Sans:wght@400;500;600&
    family=IBM+Plex+Serif:wght@400;500;600&
    family=Source+Sans+3:wght@400;500;600&
    family=Work+Sans:wght@400;500;600&
    family=PT+Sans:wght@400;700&
    family=Inter:wght@400;500;600&
    family=Montserrat:wght@400;500;600&
    family=Roboto+Slab:wght@400;500;600&
    family=Merriweather:wght@400;700&
    family=Libre+Franklin:wght@400;500;600&
    family=Fira+Sans:wght@400;500;600&
    display=swap');
  </style>

  <section class="intro">
    <h1 class="h1">Font Lab (Hidden)</h1>
    <p class="hint long-text">
      Oswald + Flush logos are the anchors. Each card shows <strong>Oswald</strong> on the left and a <strong>candidate font</strong> on the right, with logos and sample text.
    </p>
  </section>

  <section class="grid">
    {FONT_LIST.map((family) => (
      <article class="card" data-font={family}>
        <header class="card__head">
          <div class="chip">Checking…</div>
          <h2 class="h2">{family}</h2>
        </header>

        <div class="compare">
          <!-- Oswald reference -->
          <div class="col">
            <h3 class="label">Oswald + Logo</h3>
            <img src="/images/logo-flush-black.png" alt="Flush logo black" class="logo-sample light" />
            <img src="/images/logo-flush-white.png" alt="Flush logo white" class="logo-sample dark" />
            <p class="body oswald">{SAMPLE_PARAGRAPH}</p>
            <p class="body oswald">{PANGRAM}</p>
          </div>

          <!-- Candidate -->
          <div class="col">
            <h3 class="label">{family} + Logo</h3>
            <img src="/images/logo-flush-black.png" alt="Flush logo black" class="logo-sample light" />
            <img src="/images/logo-flush-white.png" alt="Flush logo white" class="logo-sample dark" />
            <p class="body candidate" style={`--candidate: "${family}"`}>{SAMPLE_PARAGRAPH}</p>
            <p class="body candidate" style={`--candidate: "${family}"`}>{PANGRAM}</p>
          </div>
        </div>
      </article>
    ))}
  </section>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const cards = document.querySelectorAll('.card[data-font]');
      cards.forEach(card => {
        const family = card.getAttribute('data-font');
        const ok = document.fonts && document.fonts.check(`400 16px "${family}"`);
        const chip = card.querySelector('.chip');
        if (ok) {
          chip.textContent = 'Loaded ✔';
          chip.classList.add('ok');
        } else {
          chip.textContent = 'Fallback ✖';
          chip.classList.add('bad');
        }
      });
    });
  </script>
</BaseLayout>

<style>
  /* … same CSS as before … */
</style>
